<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>–û–ø—Ä–æ—Å –¥–ª—è —ç–∫—Å–ø–∞—Ç–æ–≤</title>
  <style>
    body{
      font-family: Arial, sans-serif;
      margin:0; padding:0;
      background:#f5f5f5;
      display:flex; justify-content:center; align-items:center;
      height:100vh;
    }
    #card{
      background:#fff; max-width:500px; width:92%;
      padding:24px 32px; border-radius:10px;
      box-shadow:0 4px 12px rgba(0,0,0,.15);
      text-align:center; transition:all .3s;
    }
    button{padding:10px 24px; font-size:18px; cursor:pointer; border:#000000; border-radius:6px; background:#fffff; color:#fff;}
    button:hover{background:#a5be34;}
    .opt-btn{display:block; width:100%; background:#28a745; margin:8px 0; font-size:16px;}
    .opt-btn:hover{background:#1e7e34;}
    .selected{background:#1e7e34 !important;}
    .disabled{opacity:.6; pointer-events:none;}
    input[type="text"], input[type="number"]{margin-top:10px; padding:8px; width:100%; font-size:15px; border:1px solid #ccc; border-radius:4px;}
    .nav{display:flex; justify-content:space-between; align-items:center; margin-top:20px;}
    .nav button{width:48%; font-size:20px; display:flex; justify-content:center; align-items:center; gap:6px;}
  </style>
</head>
<body>
  <div id="card">
    <!-- –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ -->
    <div id="welcome">
      <h1>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!</h1>
      <p>–ü—Ä–æ–π–¥–∏—Ç–µ –∫–æ—Ä–æ—Ç–∫–∏–π –æ–ø—Ä–æ—Å, —á—Ç–æ–±—ã –º—ã —Å–¥–µ–ª–∞–ª–∏ –ª—É—á—à—É—é –ø–ª–∞—Ç—Ñ–æ—Ä–º—É –¥–ª—è –∞—Ä–µ–Ω–¥—ã –∂–∏–ª—å—è.</p>
      <button id="startBtn">–ù–∞—á–∞—Ç—å ‚û°Ô∏è</button>
    </div>

    <!-- —Å—é–¥–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –≤–æ–ø—Ä–æ—Å -->
    <div id="qa" style="display:none;"></div>

    <!-- —Ñ–∏–Ω–∞–ª—å–Ω—ã–π —ç–∫—Ä–∞–Ω -->
    <div id="thanks" style="display:none;">
      <h2>–°–ø–∞—Å–∏–±–æ –∑–∞ –æ—Ç–≤–µ—Ç—ã! üéâ</h2>
      <p>–ú—ã —É–∂–µ –Ω–∞ —à–∞–≥ –±–ª–∏–∂–µ –∫ –ª—É—á—à–µ–º—É —Å–µ—Ä–≤–∏—Å—É.</p>
    </div>
  </div>

<script>
/********************************
 * –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤–æ–ø—Ä–æ—Å–æ–≤        *
 ********************************/
const questions = [
  {text:'–í –∫–∞–∫–æ–π –≥–æ—Ä–æ–¥ –í—å–µ—Ç–Ω–∞–º–∞ –≤—ã –ø–µ—Ä–µ–µ—Ö–∞–ª–∏ –∏–ª–∏ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç–µ –ø–µ—Ä–µ–µ—Ö–∞—Ç—å?', options:['–•–∞–Ω–æ–π','–•–æ—à–∏–º–∏–Ω','–î–∞–Ω–∞–Ω–≥','–ù—è—á–∞–Ω–≥','–î—Ä—É–≥–æ–µ'], allowOther:true, type:'single'},
  {text:'–í—ã —É–∂–µ –∂–∏–≤—ë—Ç–µ –≤–æ –í—å–µ—Ç–Ω–∞–º–µ –∏–ª–∏ —Ç–æ–ª—å–∫–æ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç–µ?', options:['–£–∂–µ –∂–∏–≤—É','–ü–ª–∞–Ω–∏—Ä—É—é','–î—Ä—É–≥–æ–µ'], allowOther:true, type:'single'},
  {text:'–ö–∞–∫ –¥–æ–ª–≥–æ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç–µ –∞—Ä–µ–Ω–¥–æ–≤–∞—Ç—å –∂–∏–ª—å—ë?', options:['1‚Äì3 –º–µ—Å—è—Ü–∞','3‚Äì6 –º–µ—Å—è—Ü–µ–≤','6‚Äì12 –º–µ—Å—è—Ü–µ–≤','–ë–æ–ª—å—à–µ –≥–æ–¥–∞','–î—Ä—É–≥–æ–µ'], allowOther:true, type:'single'},
  {text:'–ö–∞–∫–æ–π –º–µ—Å—è—á–Ω—ã–π –±—é–¥–∂–µ—Ç –Ω–∞ –∞—Ä–µ–Ω–¥—É?', options:['< 400 USD','400‚Äì700 USD','700‚Äì1000 USD','> 1000 USD','–î—Ä—É–≥–æ–µ'], allowOther:true, type:'single'},
  {text:'–ö–∞–∫–æ–π —Ç–∏–ø –∂–∏–ª—å—è –≤—ã –∏—â–µ—Ç–µ?', options:['–ö–≤–∞—Ä—Ç–∏—Ä–∞','–î–æ–º —Ü–µ–ª–∏–∫–æ–º','–ö–æ–º–Ω–∞—Ç–∞','–°—Ç—É–¥–∏—è','–î—Ä—É–≥–æ–µ'], allowOther:true, type:'single'},
  {text:'–° –∫–∞–∫–∏–º–∏ —Å–ª–æ–∂–Ω–æ—Å—Ç—è–º–∏ –≤—ã —Å—Ç–∞–ª–∫–∏–≤–∞–ª–∏—Å—å –ø—Ä–∏ –ø–æ–∏—Å–∫–µ? (–º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ)', options:['–ù–µ–¥–æ—Å—Ç–æ–≤–µ—Ä–Ω—ã–µ —Ñ–æ—Ç–æ','–ó–∞–≤—ã—à–µ–Ω–Ω–∞—è —Ü–µ–Ω–∞ –¥–ª—è –∏–Ω–æ—Å—Ç—Ä–∞–Ω—Ü–µ–≤','–ù–µ–¥–æ—Å—Ç–∞—Ç–æ–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–≤–∞—Ä—Ç–∏—Ä–µ','–Ø–∑—ã–∫–æ–≤–æ–π –±–∞—Ä—å–µ—Ä','–°–ª–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –ø–æ –Ω—É–∂–Ω—ã–º –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º','–î—Ä—É–≥–æ–µ'], allowOther:true, type:'multi', maxSelect:null},
  {text:'–ß—Ç–æ –¥–ª—è –≤–∞—Å –≤–∞–∂–Ω–µ–µ –≤—Å–µ–≥–æ –ø—Ä–∏ –≤—ã–±–æ—Ä–µ –∂–∏–ª—å—è? (–≤—ã–±–µ—Ä–∏—Ç–µ 3 –≥–ª–∞–≤–Ω—ã—Ö)', options:['–¶–µ–Ω–∞','–†–∞–π–æ–Ω / —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ','–ö–∞—á–µ—Å—Ç–≤–æ —Ä–µ–º–æ–Ω—Ç–∞','–ú–µ–±–ª–∏—Ä–æ–≤–∫–∞','–ù–∞–ª–∏—á–∏–µ –±—ã—Ç–æ–≤–æ–π —Ç–µ—Ö–Ω–∏–∫–∏','–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å','–ò–Ω—Ç–µ—Ä–Ω–µ—Ç','–í–∏–¥ –∏–∑ –æ–∫–Ω–∞','–¢–∏—à–∏–Ω–∞','–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤–æ–∫—Ä—É–≥ (–º–∞–≥–∞–∑–∏–Ω—ã, —à–∫–æ–ª—ã –∏ –ø—Ä.)'], allowOther:false, type:'multi', maxSelect:3},
  {text:'–ë–µ—Å–ø–æ–∫–æ–∏—Ç –ª–∏ –≤–∞—Å –≤–æ–∑–≤—Ä–∞—Ç –¥–µ–ø–æ–∑–∏—Ç–∞?', options:['–î–∞, –æ—á–µ–Ω—å','–ù–µ–º–Ω–æ–≥–æ','–ù–µ—Ç'], allowOther:false, type:'single'},
  {text:'–°—Ç–∞–ª–∫–∏–≤–∞–ª–∏—Å—å –ª–∏ –≤—ã —Å –º–æ—à–µ–Ω–Ω–∏—á–µ—Å—Ç–≤–æ–º –ø—Ä–∏ –∞—Ä–µ–Ω–¥–µ?', options:['–î–∞','–ù–µ—Ç','–ù–µ —É–≤–µ—Ä–µ–Ω(–∞)'], allowOther:false, type:'single'},
  {text:'–° –∫–∞–∫–∏–º–∏ –ø—Ä–æ–±–ª–µ–º–∞–º–∏ –≤—ã —Å—Ç–æ–ª–∫–Ω—É–ª–∏—Å—å –≤–æ –≤—Ä–µ–º—è –ø—Ä–æ–∂–∏–≤–∞–Ω–∏—è? (–º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ)', options:['–ü–ª–µ—Å–µ–Ω—å/—Å—ã—Ä–æ—Å—Ç—å','–ü—Ä–æ–±–ª–µ–º—ã —Å –≤–æ–¥–æ–π','–ü–µ—Ä–µ–±–æ–∏ —Å —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å—Ç–≤–æ–º','–ú–µ–¥–ª–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä–Ω–µ—Ç','–®—É–º','–ù–∞—Å–µ–∫–æ–º—ã–µ','–ü–ª–æ—Ö–∞—è —Ä–µ–∞–∫—Ü–∏—è —Ö–æ–∑—è–∏–Ω–∞ –Ω–∞ –ø—Ä–æ—Å—å–±—ã','–î—Ä—É–≥–æ–µ'], allowOther:true, type:'multi', maxSelect:null},
  {text:'–ù–∞—Å–∫–æ–ª—å–∫–æ –¥–ª—è –≤–∞—Å –≤–∞–∂–Ω–∞ –±–ª–∏–∑–æ—Å—Ç—å –∫ —Ä–∞–±–æ—Ç–µ? (1 ‚Äî –Ω–µ –≤–∞–∂–Ω–∞, 5 ‚Äî –æ—á–µ–Ω—å –≤–∞–∂–Ω–∞)', options:['1','2','3','4','5'], allowOther:false, type:'single'},
  {text:'–ù–∞—Å–∫–æ–ª—å–∫–æ –¥–ª—è –≤–∞—Å –≤–∞–∂–Ω–∞ –±–ª–∏–∑–æ—Å—Ç—å –∫ –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–º —à–∫–æ–ª–∞–º? (1 ‚Äî –Ω–µ –≤–∞–∂–Ω–∞, 5 ‚Äî –æ—á–µ–Ω—å –≤–∞–∂–Ω–∞)', options:['1','2','3','4','5'], allowOther:false, type:'single'},
  {text:'–ù–∞—Å–∫–æ–ª—å–∫–æ –¥–ª—è –≤–∞—Å –≤–∞–∂–Ω–∞ –±–ª–∏–∑–æ—Å—Ç—å –∫ –∫–∞—Ñ–µ/–º–∞–≥–∞–∑–∏–Ω–∞–º/—Å—É–ø–µ—Ä–º–∞—Ä–∫–µ—Ç–∞–º? (1 ‚Äî –Ω–µ –≤–∞–∂–Ω–∞, 5 ‚Äî –æ—á–µ–Ω—å –≤–∞–∂–Ω–∞)', options:['1','2','3','4','5'], allowOther:false, type:'single'},
  {text:'–ù–∞—Å–∫–æ–ª—å–∫–æ –¥–ª—è –≤–∞—Å –≤–∞–∂–Ω–∞ –±–ª–∏–∑–æ—Å—Ç—å –∫ –ø–∞—Ä–∫–∞–º/–∑–æ–Ω–∞–º –æ—Ç–¥—ã—Ö–∞? (1 ‚Äî –Ω–µ –≤–∞–∂–Ω–∞, 5 ‚Äî –æ—á–µ–Ω—å –≤–∞–∂–Ω–∞)', options:['1','2','3','4','5'], allowOther:false, type:'single'},
  {text:'–ù–∞—Å–∫–æ–ª—å–∫–æ –ª–µ–≥–∫–æ –≤–∞–º –±—ã–ª–æ –æ–±—â–∞—Ç—å—Å—è —Å –∞—Ä–µ–Ω–¥–æ–¥–∞—Ç–µ–ª—è–º–∏?', options:['–û—á–µ–Ω—å –ª–µ–≥–∫–æ','–°–∫–æ—Ä–µ–µ –ª–µ–≥–∫–æ','–°–∫–æ—Ä–µ–µ —Å–ª–æ–∂–Ω–æ','–û—á–µ–Ω—å —Å–ª–æ–∂–Ω–æ'], allowOther:false, type:'single'},
  {text:'–ö–∞–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –≤–æ–∑–Ω–∏–∫–∞–ª–∏ –≤ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏? (–º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ)', options:['–Ø–∑—ã–∫','–†–∞–∑–Ω—ã–µ –æ–∂–∏–¥–∞–Ω–∏—è','–ú–µ–¥–ª–µ–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã','–î—Ä—É–≥–æ–µ'], allowOther:true, type:'multi', maxSelect:null},
  {text:'–ö–∞–∫—É—é —Å—É–º–º—É –≤—ã –≥–æ—Ç–æ–≤—ã –ø–ª–∞—Ç–∏—Ç—å –≤ –º–µ—Å—è—Ü –∑–∞ –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—É—é –∞—Ä–µ–Ω–¥—É?', options:['–¥–æ 300 USD','300‚Äì500 USD','500‚Äì800 USD','800‚Äì1200 USD','–±–æ–ª–µ–µ 1200 USD'], allowOther:false, type:'single'}
];

/********************************
 * –°–æ—Å—Ç–æ—è–Ω–∏–µ –æ–ø—Ä–æ—Å–∞             *
 ********************************/
let current = 0;
const answers = [];

const welcomeEl = document.getElementById('welcome');
const qaEl      = document.getElementById('qa');
const thanksEl  = document.getElementById('thanks');

// –∑–∞–ø—É—Å–∫ –æ–ø—Ä–æ—Å–∞
document.getElementById('startBtn').addEventListener('click',() => {
  welcomeEl.style.display='none';
  qaEl.style.display='block';
  renderQuestion();
});

/********************************
 * –û—Ç—Ä–∏—Å–æ–≤–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ –≤–æ–ø—Ä–æ—Å–∞   *
 ********************************/
function renderQuestion(){
  const q = questions[current];
  qaEl.innerHTML = `<h2>${q.text}</h2>`;

  const optsDiv = document.createElement('div');
  qaEl.appendChild(optsDiv);

  let selectedChoice = null;
  const selectedSet = new Set();
  let otherInput = null;

  // —Å–æ–∑–¥–∞—ë–º –∫–Ω–æ–ø–∫–∏ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤
  q.options.forEach(opt=>{
    const btn = document.createElement('button');
    btn.className='opt-btn';
    btn.textContent=opt;
    optsDiv.appendChild(btn);

    btn.onclick = ()=>{
      if(opt==='–î—Ä—É–≥–æ–µ'){
        if(otherInput){
          btn.style.display='none';
          otherInput.style.display='block';
          otherInput.focus();
        }
        return;
      }
      if(q.type==='single'){
        // —Å–Ω—è—Ç—å –ø—Ä–µ–¥—ã–¥—É—â–µ–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ
        optsDiv.querySelectorAll('.opt-btn').forEach(b=>b.classList.remove('selected'));
        selectedChoice = opt;
        btn.classList.add('selected');
      }else{ // multi
        if(selectedSet.has(opt)){
          selectedSet.delete(opt);
          btn.classList.remove('selected');
        }else{
          if(q.maxSelect && selectedSet.size>=q.maxSelect) return;
          selectedSet.add(opt);
          btn.classList.add('selected');
        }
      }
      updateNavState();
    };
  });

  // –ø–æ–ª–µ –¥–ª—è "–î—Ä—É–≥–æ–µ"
  if(q.allowOther){
    otherInput = document.createElement('input');
    otherInput.type='text';
    otherInput.placeholder='–£–∫–∞–∂–∏—Ç–µ —Å–≤–æ–π –≤–∞—Ä–∏–∞–Ω—Ç';
    otherInput.style.display='none';
    qaEl.appendChild(otherInput);
    otherInput.addEventListener('input',()=>{
      if(q.type==='single'){
        selectedChoice = otherInput.value.trim()? otherInput.value.trim():null;
      }
      updateNavState();
    });
  }

  // –Ω–∞–≤–∏–≥–∞—Ü–∏—è
  const nav = document.createElement('div');
  nav.className='nav';
  qaEl.appendChild(nav);

  const backBtn = document.createElement('button');
  backBtn.innerHTML='‚¨ÖÔ∏è';
  if(current===0) backBtn.classList.add('disabled');
  backBtn.onclick = ()=>{
    if(current===0) return;
    current--;
    answers.pop();
    renderQuestion();
  };
  nav.appendChild(backBtn);

  const nextBtn = document.createElement('button');
  nextBtn.innerHTML='‚û°Ô∏è';
  nextBtn.classList.add('disabled');
  nav.appendChild(nextBtn);

  nextBtn.onclick = ()=>{
    if(nextBtn.classList.contains('disabled')) return;
    let answerValue;
    if(q.type==='single'){
      answerValue = selectedChoice;
    }else{
      answerValue = Array.from(selectedSet);
      if(otherInput && otherInput.value.trim()) answerValue.push(otherInput.value.trim());
    }
    answers.push({question:q.text, answer:answerValue});
    current++;
    if(current<questions.length){
      renderQuestion();
    }else{
      qaEl.style.display='none';
      thanksEl.style.display='block';
      console.log('–û—Ç–≤–µ—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:',answers);
    }
  };

  function updateNavState(){
    let canProceed = false;
    if(q.type==='single'){
      canProceed = !!selectedChoice;
    }else{
      canProceed = selectedSet.size>0 || (otherInput && otherInput.value.trim());
    }
    nextBtn.classList.toggle('disabled',!canProceed);
  }
}
</script>
</body>
</html>
